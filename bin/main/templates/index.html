<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Management System Home</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <style>
        body {
                   margin: 0;
                   padding: 0;
               }

               /* Sidebar - Desktop */
               .sidebar {
                   height: 100vh;
                   background-color: #004480;
                   color: white;
                   padding: 20px 15px;
                   position: fixed;
                   left: 0;
                   top: 0;
                   z-index: 1000;
                   width: 200px;
                   overflow-y: auto;
               }

               .sidebar h5 {
                   color: white;
                   margin-bottom: 1.5rem;
                   font-size: 1.1rem;
               }

               .sidebar .nav {
                   flex-direction: column;
                   display: flex;
               }

               .sidebar .nav-link {
                   color: #adb5bd;
                   padding: 0.75rem 1rem;
                   border-radius: 0.25rem;
                   transition: all 0.3s;
               }

               .sidebar .nav-link:hover,
               .sidebar .nav-link.active {
                   background-color: #495057;
                   color: white;
               }

               .logout-button {
                   background-color: #dc3545;
                   border: 1px solid #dc3545;
                   color: white;
                   padding: 0.75rem 1rem;
                   margin-top: 1rem;
                   width: 100%;
                   text-align: center;
                   border-radius: 0.25rem;
                   cursor: pointer;
                   transition: all 0.3s;
               }

               .logout-button:hover {
                   background-color: #c82333;
                   border-color: #bd2130;
               }

               /* Main content - Desktop */
               .main-content {
                   margin-left: 200px;
                   padding: 20px;
                   min-height: 100vh;
                   width: calc(100% - 200px);
               }

               /* Cards */
               .card {
                   border-radius: 0.5rem;
                   border: none;
               }

               .card-body h5 {
                   font-size: 0.9rem;
                   margin-bottom: 0.5rem;
               }

               /* Table */
               .table-responsive {
                   margin-top: 1rem;
               }

               /* Chart */
               #gradesChart {
                   max-height: 300px;
                   margin-top: 1rem;
               }

               .text-danger {
                   font-size: 0.875em;
               }

               .form-row > [class*="col-"] {
                   padding-right: 15px;
                   padding-left: 15px;
               }

               /* Mobile Styles - Horizontal navbar always */
               @media (max-width: 768px) {
                   /* Make sidebar compact and horizontal */
                   .sidebar {
                       position: relative;
                       height: auto;
                       width: 100%;
                       padding: 8px;
                   }

                   .sidebar h5 {
                       display: none; /* Hide title on mobile to save space */
                   }

                   /* Horizontal scrollable menu - always in one line */
                   .sidebar .nav {
                       flex-direction: row;
                       flex-wrap: nowrap;
                       overflow-x: auto;
                       -webkit-overflow-scrolling: touch;
                       padding: 5px 0;
                       gap: 5px;
                       margin-bottom: 8px;
                       scrollbar-width: thin;
                   }

                   /* Hide scrollbar for cleaner look */
                   .sidebar .nav::-webkit-scrollbar {
                       height: 4px;
                   }

                   .sidebar .nav::-webkit-scrollbar-track {
                       background: #495057;
                   }

                   .sidebar .nav::-webkit-scrollbar-thumb {
                       background: #6c757d;
                       border-radius: 2px;
                   }

                   .sidebar .nav-item {
                       flex: 0 0 auto;
                   }

                   .sidebar .nav-link {
                       padding: 0.5rem 1rem;
                       font-size: 0.8rem;
                       white-space: nowrap;
                   }

                   /* Logout button inline with nav items */
                   .sidebar form {
                       display: inline-block;
                       margin: 0;
                   }

                   .logout-button {
                       padding: 0.5rem 1rem;
                       font-size: 0.8rem;
                       margin: 0;
                       white-space: nowrap;
                       width: auto;
                   }

                   .main-content {
                       margin-left: 0;
                       padding: 15px;
                       width: 100%;
                   }

                   .main-content h1 {
                       font-size: 1.25rem;
                   }

                   .main-content h2 {
                       font-size: 1.1rem;
                       margin-top: 1rem;
                   }

                   .card-body .h1 {
                       font-size: 2rem;
                   }

                   .border-bottom {
                       padding-top: 0.5rem !important;
                       padding-bottom: 0.5rem !important;
                       margin-bottom: 1rem !important;
                   }
               }

               /* Extra small screens - still horizontal */
               @media (max-width: 576px) {
                   .sidebar .nav-link {
                       padding: 0.4rem 0.8rem;
                       font-size: 0.75rem;
                   }

                   .logout-button {
                       font-size: 0.75rem;
                       padding: 0.4rem 0.8rem;
                   }

                   .main-content h1 {
                       font-size: 1.1rem;
                   }

                   .card-body h5 {
                       font-size: 0.8rem;
                   }

                   .card-body .h1 {
                       font-size: 1.5rem;
                   }
               }
/* =======================================
   MAIN CONTENT LAYOUT AND TITLES
   ======================================= */

.main-content {
    /* Ensure padding is consistent */
    padding: 20px;
}

/* Header/Title Styling */
.main-content h1 {
    color: #004480; /* Match sidebar color for main titles */
    font-weight: 700;
    font-size: 1.8rem;
}

.border-bottom {
    /* Use a very light gray for the separator line */
    border-color: #e9ecef !important;
}

/* =======================================
   MODULE CARD STYLING (The main feature)
   ======================================= */

.module-card {
    /* Base Card Styles */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
    height: 100%; /* Important for equal height in the row */
    min-height: 180px; /* Ensure cards are large enough */
    text-align: center;
    border-radius: 0.5rem;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Standard subtle shadow */
    transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
    border: none;
}

.module-card:hover {
    /* Interactive Hover Effect */
    transform: translateY(-5px); /* Lift the card slightly */
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2); /* Enhance shadow on hover */
}

/* Icon Styling */
.module-icon {
    font-size: 3rem; /* Large icon size */
    margin-bottom: 10px;
    line-height: 1;
}

/* Card Text */
.module-card .card-title {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 5px;
}

.module-card .card-text {
    font-size: 0.9rem;
    opacity: 0.8;
}

/* Adjusting Bootstrap Colors for Better Look/Contrast */
.bg-primary { background-color: #007bff !important; }
.bg-info { background-color: #17a2b8 !important; }
.bg-success { background-color: #28a745 !important; }
.bg-secondary { background-color: #6c757d !important; }

/* Warning color adjustment for dark text visibility */
.bg-warning {
    background-color: #ffc107 !important;
    color: #343a40 !important; /* Ensure text is dark on light background */
}

/* Ensure link text color inherits from the card background color */
.module-card.text-white a {
    color: white !important;
}

/* =======================================
   RESPONSIVENESS (Card Layout)
   ======================================= */

@media (max-width: 992px) {
    /* Adjust height slightly for tablet views */
    .module-card {
        min-height: 160px;
    }
    .module-icon {
        font-size: 2.5rem;
    }
}

@media (max-width: 768px) {
    /* Stack cards vertically on smaller screens, ensure consistent padding */
    .main-content {
        padding: 15px;
    }
}

    </style>
</head>
<body>
<div class="container-fluid">
    <div class="row">

        <nav class="sidebar">
            <h5>Grade Manager</h5>
            <div style="display: flex; align-items: center; width: 100%;">
                <ul class="nav" style="margin-bottom: 0;">
                    <li class="nav-item"><a class="nav-link active text-white" th:href="@{/main}">Home</a></li>
                    <li class="nav-item"><a class="nav-link text-white" th:href="@{/dashboard}">Dashboard</a></li>
                    <li class="nav-item"><a class="nav-link text-white" th:href="@{/subjects}">Subject List</a></li>
                    <li class="nav-item"><a class="nav-link text-white" th:href="@{/students}">Student Directory</a></li>
                    <li class="nav-item"><a class="nav-link text-white" th:href="@{/reports}">Analytics & Reports</a></li>
                    <li class="nav-item"><a class="nav-link text-white" th:href="@{/teachers}">Teachers</a></li>
                    <li class="nav-item">
                        <form th:action="@{/logout}" method="post" style="margin: 0;">
                            <button type="submit" class="logout-button">Logout</button>
                        </form>
                    </li>
                </ul>
            </div>
        </nav>

        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4 main-content">
            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                <h1 sec:authorize="hasRole('ADMIN')">Welcome, Administrator!</h1>
            </div>

            <div class="row">

                <div class="col-lg-4 col-md-6 mb-4">
                    <a th:href="@{/dashboard}" class="text-decoration-none">
                        <div class="card module-card bg-primary text-white">
                            <div class="module-icon">üìä</div>
                            <h5 class="card-title">Main Dashboard</h5>
                            <p class="card-text small">Performance overview & KPIs.</p>
                        </div>
                    </a>
                </div>

                <div class="col-lg-4 col-md-6 mb-4">
                    <a th:href="@{/students}" class="text-decoration-none">
                        <div class="card module-card bg-info text-white">
                            <div class="module-icon">üßë‚Äçüéì</div>
                            <h5 class="card-title">Student Directory</h5>
                            <p class="card-text small">Manage student profiles and enrollment.</p>
                        </div>
                    </a>
                </div>

                <div class="col-lg-4 col-md-6 mb-4">
                    <a th:href="@{/subjects}" class="text-decoration-none">
                        <div class="card module-card bg-warning text-dark">
                            <div class="module-icon">üìö</div>
                            <h5 class="card-title">Subject Management</h5>
                            <p class="card-text small">View, add, and update course offerings.</p>
                        </div>
                    </a>
                </div>

                <div class="col-lg-4 col-md-6 mb-4">
                    <a th:href="@{/reports}" class="text-decoration-none">
                        <div class="card module-card bg-success text-white">
                            <div class="module-icon">üìà</div>
                            <h5 class="card-title">Analytics & Reports</h5>
                            <p class="card-text small">Generate performance and grade analysis.</p>
                        </div>
                    </a>
                </div>

                <div class="col-lg-4 col-md-6 mb-4">
                    <a th:href="@{/teacher/subjects}" class="text-decoration-none">
                        <div class="card module-card bg-secondary text-white">
                            <div class="module-icon">‚úçÔ∏è</div>
                            <h5 class="card-title">Grade Submission</h5>
                            <p class="card-text small">Enter and update grades for assigned classes.</p>
                        </div>
                    </a>
                </div>

            </div>
        </main>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>